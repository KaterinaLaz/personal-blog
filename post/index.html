<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Post</title>
  <link rel="stylesheet" href="../styles.css" />
  <script defer src="../components.js"></script>
</head>
<body>
  <site-header brand="✦ Katerina">
    <a href="/">Home</a>
    <a href="/post/post.html">Posts</a>
    <a href="/projects/procect.html">Projects</a>
    <a href="/about">About</a>
  </site-header>
  <main class="container stack" id="post-root">Loading…</main>

  <script>
  (async function () {
    const params = new URLSearchParams(location.search);
    const slug = params.get('p');
    const root = document.getElementById('post-root');
    if (!slug) { root.innerHTML = '<p>No post specified.</p>'; return; }

    const res = await fetch('/post/posts.json');  // <-- adjust if your JSON is elsewhere
    const posts = await res.json();
    const post = posts.find(p => p.slug === slug);
    if (!post) { root.innerHTML = '<p>Post not found.</p>'; return; }

    document.title = post.title;
    root.innerHTML = `
      <article class="stack">
        <h1>${post.title}</h1>
        ${post.desc ? `<p class="muted">${post.desc}</p>` : ''}
        ${post.image ? `<img src="../${post.image}" alt="">` : ''}
        ${(post.body || []).map(b => `<p>${b.text || ''}</p>`).join('')}
      </article>
    `;
  })();
  </script>

  <site-footer year="2025" brand="✦ Katerina" name="Katerina Lazari">
    <a data-icon="github" href="https://github.com/KaterinaLaz"></a>
  </site-footer>
</body>

</html>
